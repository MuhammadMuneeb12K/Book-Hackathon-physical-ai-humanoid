"use strict";(globalThis.webpackChunkhumanoid_robotics_book=globalThis.webpackChunkhumanoid_robotics_book||[]).push([[524],{3300:(n,e,i)=>{i.r(e),i.d(e,{assets:()=>a,contentTitle:()=>l,default:()=>h,frontMatter:()=>t,metadata:()=>r,toc:()=>d});const r=JSON.parse('{"id":"module-1/urdf-humanoid-robots","title":"1.3 URDF for Humanoid Robots","description":"With a grasp of ROS 2\'s communication paradigms and the ability to craft Python nodes, the next crucial step in humanoid robotics is understanding how to describe the robot itself. The Unified Robot Description Format (URDF) provides a standardized XML format for modeling a robot\'s physical structure, kinematics, and visual properties. This chapter will guide you through creating and interpreting URDF files specifically tailored for humanoid robots, bridging the gap between mechanical design and software control.","source":"@site/docs/module-1/03-urdf-humanoid-robots.mdx","sourceDirName":"module-1","slug":"/module-1/urdf-humanoid-robots","permalink":"/Book-Hackathon-physical-ai-humanoid/module-1/urdf-humanoid-robots","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":3,"frontMatter":{"id":"urdf-humanoid-robots","title":"1.3 URDF for Humanoid Robots"},"sidebar":"defaultSidebar","previous":{"title":"1.2 Building Python Nodes with rclpy","permalink":"/Book-Hackathon-physical-ai-humanoid/module-1/building-python-nodes"},"next":{"title":"1.4 TF2: Frames & Transformations","permalink":"/Book-Hackathon-physical-ai-humanoid/module-1/tf2-frames-transformations"}}');var s=i(4848),o=i(8453);const t={id:"urdf-humanoid-robots",title:"1.3 URDF for Humanoid Robots"},l=void 0,a={},d=[{value:"Goal",id:"goal",level:2},{value:"Learning Objectives",id:"learning-objectives",level:2},{value:"Prerequisites",id:"prerequisites",level:2},{value:"Key Concepts",id:"key-concepts",level:2},{value:"Tools",id:"tools",level:2},{value:"Chapter Sections",id:"chapter-sections",level:2},{value:"1.3.1 Introduction to URDF: Why Describe a Robot?",id:"131-introduction-to-urdf-why-describe-a-robot",level:3},{value:"1.3.2 Defining Links: The Robot&#39;s Rigid Bodies",id:"132-defining-links-the-robots-rigid-bodies",level:3},{value:"1.3.3 Defining Joints: Connecting the Links",id:"133-defining-joints-connecting-the-links",level:3},{value:"1.3.4 Xacro: Modular and Readable URDFs",id:"134-xacro-modular-and-readable-urdfs",level:3},{value:"1.3.5 Building a Simple Humanoid URDF Model",id:"135-building-a-simple-humanoid-urdf-model",level:3},{value:"1.3.6 Visualizing Your Humanoid in RViz2",id:"136-visualizing-your-humanoid-in-rviz2",level:3},{value:"Required Diagrams",id:"required-diagrams",level:2},{value:"Hands-on Labs",id:"hands-on-labs",level:2},{value:"Lab 1.3.1: Visualize the Full URDF Model in RViz",id:"lab-131-visualize-the-full-urdf-model-in-rviz",level:3},{value:"Expected Output",id:"expected-output",level:2},{value:"Assessment Questions",id:"assessment-questions",level:2},{value:"Real-world Applications",id:"real-world-applications",level:2},{value:"Edge Cases",id:"edge-cases",level:2},{value:"<strong>Key Entities</strong>",id:"key-entities",level:3},{value:"<strong>References</strong>",id:"references",level:3}];function c(n){const e={code:"code",em:"em",h2:"h2",h3:"h3",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,o.R)(),...n.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(e.p,{children:"With a grasp of ROS 2's communication paradigms and the ability to craft Python nodes, the next crucial step in humanoid robotics is understanding how to describe the robot itself. The Unified Robot Description Format (URDF) provides a standardized XML format for modeling a robot's physical structure, kinematics, and visual properties. This chapter will guide you through creating and interpreting URDF files specifically tailored for humanoid robots, bridging the gap between mechanical design and software control."}),"\n",(0,s.jsx)(e.h2,{id:"goal",children:"Goal"}),"\n",(0,s.jsx)(e.p,{children:"The goal of this chapter is to teach students how to model humanoid robots using URDF (and Xacro for advanced features), enabling them to represent the physical structure and kinematics of a robot in a way that ROS 2 can understand and utilize for control, visualization, and simulation."}),"\n",(0,s.jsx)(e.h2,{id:"learning-objectives",children:"Learning Objectives"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"Understand the fundamental components of a URDF file: links and joints."}),"\n",(0,s.jsx)(e.li,{children:"Learn how to define the kinematic chain of a humanoid robot using various joint types."}),"\n",(0,s.jsx)(e.li,{children:"Incorporate visual and collision properties into the URDF model."}),"\n",(0,s.jsx)(e.li,{children:"Utilize Xacro to create modular and reusable URDF descriptions."}),"\n",(0,s.jsx)(e.li,{children:"Visualize a URDF model in RViz2, a 3D visualizer for ROS 2."}),"\n",(0,s.jsx)(e.li,{children:"Grasp the importance of coordinate frames and their transformations in a robot model."}),"\n"]}),"\n",(0,s.jsx)(e.h2,{id:"prerequisites",children:"Prerequisites"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"Basic understanding of 3D geometry and coordinate systems."}),"\n",(0,s.jsx)(e.li,{children:"Familiarity with XML syntax."}),"\n",(0,s.jsx)(e.li,{children:"A functional ROS 2 Humble environment with RViz2 installed."}),"\n",(0,s.jsx)(e.li,{children:"Conceptual understanding of robot kinematics (links, joints, degrees of freedom)."}),"\n"]}),"\n",(0,s.jsx)(e.h2,{id:"key-concepts",children:"Key Concepts"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"URDF (Unified Robot Description Format):"})," An XML-based file format used in ROS to describe all aspects of a robot model."]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Link:"})," Represents a rigid body part of the robot (e.g., torso, upper arm, forearm, hand)."]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Joint:"})," Connects two links, defining their kinematic relationship and degrees of freedom (e.g., revolute, prismatic, fixed)."]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Kinematic Chain:"})," The sequence of links and joints that describe the robot's movement."]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Origin:"})," Defines the position and orientation of a child frame relative to its parent frame."]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Visual:"})," Describes the geometric shape and appearance of a link for rendering."]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Collision:"})," Describes the geometric shape of a link for collision detection."]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Inertial:"})," Defines the mass and inertia properties of a link for physics simulation."]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Xacro (XML Macros):"})," An XML macro language that allows for more modular, reusable, and readable URDF files by enabling variables, mathematical expressions, and file inclusions."]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"RViz2:"})," A 3D visualization tool for ROS 2, crucial for debugging and understanding robot models and sensor data."]}),"\n"]}),"\n",(0,s.jsx)(e.h2,{id:"tools",children:"Tools"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"ROS 2 Humble:"})," The robot operating system."]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"RViz2:"})," The 3D visualization tool."]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsxs)(e.strong,{children:[(0,s.jsx)(e.code,{children:"urdf_parser_py"})," (Python package):"]})," For programmatic parsing of URDF files."]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Code Editor:"})," Visual Studio Code (recommended) with XML/Xacro extensions."]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"CAD Software (Conceptual):"})," Mention the origin of robot geometry (e.g., SolidWorks, Fusion 360, Blender)."]}),"\n"]}),"\n",(0,s.jsx)(e.h2,{id:"chapter-sections",children:"Chapter Sections"}),"\n",(0,s.jsx)(e.h3,{id:"131-introduction-to-urdf-why-describe-a-robot",children:"1.3.1 Introduction to URDF: Why Describe a Robot?"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"The necessity of a standardized robot description for simulation, visualization, and planning."}),"\n",(0,s.jsx)(e.li,{children:"Overview of the URDF XML structure."}),"\n",(0,s.jsx)(e.li,{children:"Basic concepts: Links and Joints."}),"\n"]}),"\n",(0,s.jsx)(e.h3,{id:"132-defining-links-the-robots-rigid-bodies",children:"1.3.2 Defining Links: The Robot's Rigid Bodies"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:[(0,s.jsxs)(e.strong,{children:[(0,s.jsx)(e.code,{children:"<link>"})," element:"]})," Basic structure."]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsxs)(e.strong,{children:[(0,s.jsx)(e.code,{children:"<visual>"})," element:"]})," Mesh (STL, DAE), geometry (box, cylinder, sphere), material (color, texture)."]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsxs)(e.strong,{children:[(0,s.jsx)(e.code,{children:"<collision>"})," element:"]})," Simplified geometry for collision detection."]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsxs)(e.strong,{children:[(0,s.jsx)(e.code,{children:"<inertial>"})," element:"]})," Mass, center of mass, and inertia tensor for physics simulation."]}),"\n"]}),"\n",(0,s.jsx)(e.h3,{id:"133-defining-joints-connecting-the-links",children:"1.3.3 Defining Joints: Connecting the Links"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:[(0,s.jsxs)(e.strong,{children:[(0,s.jsx)(e.code,{children:"<joint>"})," element:"]})," Connecting ",(0,s.jsx)(e.code,{children:"parent"})," and ",(0,s.jsx)(e.code,{children:"child"})," links."]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Joint Types:"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.code,{children:"revolute"}),": Rotating around an axis (e.g., elbow, knee)."]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.code,{children:"continuous"}),": Revolute with unlimited range (e.g., wheel)."]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.code,{children:"prismatic"}),": Sliding along an axis (e.g., linear actuator)."]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.code,{children:"fixed"}),": Rigid connection, no motion (e.g., base of a robot to a world frame)."]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsxs)(e.strong,{children:[(0,s.jsx)(e.code,{children:"<origin>"})," element:"]})," Specifying the relative position and orientation of the child link."]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsxs)(e.strong,{children:[(0,s.jsx)(e.code,{children:"<axis>"})," element:"]})," Defining the axis of rotation/translation."]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsxs)(e.strong,{children:[(0,s.jsx)(e.code,{children:"<limit>"})," element:"]})," Soft and hard limits for joint position, velocity, and effort."]}),"\n"]}),"\n",(0,s.jsx)(e.h3,{id:"134-xacro-modular-and-readable-urdfs",children:"1.3.4 Xacro: Modular and Readable URDFs"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"The Problem with Raw URDF:"})," Repetitive code, difficult to modify."]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Introduction to Xacro:"})," Variables, mathematical expressions, properties, macros, and includes."]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Creating a Humanoid Leg Macro:"})," An example of encapsulating a repetitive structure."]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Generating URDF from Xacro:"})," ",(0,s.jsx)(e.code,{children:"ros2 run xacro xacro <your_robot.urdf.xacro> > <your_robot.urdf>"}),"."]}),"\n"]}),"\n",(0,s.jsx)(e.h3,{id:"135-building-a-simple-humanoid-urdf-model",children:"1.3.5 Building a Simple Humanoid URDF Model"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"Step-by-step construction of a simplified humanoid torso with two arms."}),"\n",(0,s.jsx)(e.li,{children:"Emphasis on establishing correct coordinate frames for each link and joint."}),"\n",(0,s.jsx)(e.li,{children:"Considerations for naming conventions and organization."}),"\n"]}),"\n",(0,s.jsx)(e.h3,{id:"136-visualizing-your-humanoid-in-rviz2",children:"1.3.6 Visualizing Your Humanoid in RViz2"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Launching RViz2:"})," ",(0,s.jsx)(e.code,{children:"ros2 run rviz2 rviz2"}),"."]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Adding the RobotModel Display:"})," Loading your URDF."]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Configuring the Fixed Frame:"})," Setting the reference frame for visualization."]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Joint State Publisher:"})," Using ",(0,s.jsx)(e.code,{children:"joint_state_publisher_gui"})," to manipulate joints and observe the model."]}),"\n"]}),"\n",(0,s.jsx)(e.h2,{id:"required-diagrams",children:"Required Diagrams"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Humanoid URDF Tree Structure:"})," A hierarchical diagram showing parent-child relationships of links and joints for a humanoid (e.g., ",(0,s.jsx)(e.code,{children:"world -> base_link -> torso -> head"}),", ",(0,s.jsx)(e.code,{children:"torso -> left_shoulder -> left_upper_arm"}),")."]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Link and Joint Coordinate Frames:"})," An illustration showing how ",(0,s.jsx)(e.code,{children:"<origin>"})," and ",(0,s.jsx)(e.code,{children:"<axis>"})," define relative transformations."]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Xacro Inclusion Example:"})," A diagram showing how Xacro uses macros and includes to build a final URDF."]}),"\n"]}),"\n",(0,s.jsx)(e.h2,{id:"hands-on-labs",children:"Hands-on Labs"}),"\n",(0,s.jsx)(e.h3,{id:"lab-131-visualize-the-full-urdf-model-in-rviz",children:"Lab 1.3.1: Visualize the Full URDF Model in RViz"}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Objective:"})," Create a basic humanoid URDF (or Xacro) and visualize it in RViz2, then use ",(0,s.jsx)(e.code,{children:"joint_state_publisher_gui"})," to articulate its joints."]}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Prerequisites:"})," A text editor, ROS 2 environment with RViz2 and ",(0,s.jsx)(e.code,{children:"joint_state_publisher_gui"})," installed (",(0,s.jsx)(e.code,{children:"sudo apt install ros-humble-joint-state-publisher-gui"}),")."]}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Instructions:"})}),"\n",(0,s.jsxs)(e.ol,{children:["\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Create a new ROS 2 package for your robot description:"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:"cd <your_ros2_ws>/src\r\nros2 pkg create --build-type ament_cmake my_humanoid_description --dependencies urdf xacro rviz2_ros_pkgs # rviz2_ros_pkgs for the display type\n"})}),"\n","(Note: ",(0,s.jsx)(e.code,{children:"ament_cmake"})," is generally used for packages containing URDFs and launch files, even if the primary interaction is Python)."]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsxs)(e.strong,{children:["Navigate to the package and create a ",(0,s.jsx)(e.code,{children:"urdf"})," directory:"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:"cd my_humanoid_description\r\nmkdir urdf\r\ncd urdf\n"})}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsxs)(e.strong,{children:["Create a simple ",(0,s.jsx)(e.code,{children:"humanoid.urdf.xacro"})," file:"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-xml",children:'<?xml version="1.0"?>\r\n<robot name="simple_humanoid" xmlns:xacro="http://ros.org/xacro">\r\n\r\n    <xacro:property name="M_PI" value="3.1415926535897931" />\r\n\r\n    \x3c!-- Base Link --\x3e\r\n    <link name="base_link">\r\n        <visual>\r\n            <geometry>\r\n                <box size="0.2 0.3 0.1"/>\r\n            </geometry>\r\n            <material name="blue">\r\n                <color rgba="0 0 0.8 1"/>\r\n            </material>\r\n        </visual>\r\n        <collision>\r\n            <geometry>\r\n                <box size="0.2 0.3 0.1"/>\r\n            </geometry>\r\n        </collision>\r\n        <inertial>\r\n            <origin xyz="0 0 0" rpy="0 0 0"/>\r\n            <mass value="5.0"/>\r\n            <inertia ixx="0.01" ixy="0" ixz="0" iyy="0.01" iyz="0" izz="0.01"/>\r\n        </inertial>\r\n    </link>\r\n\r\n    \x3c!-- Torso Link --\x3e\r\n    <link name="torso_link">\r\n        <visual>\r\n            <geometry>\r\n                <box size="0.2 0.1 0.4"/>\r\n            </geometry>\r\n            <material name="red">\r\n                <color rgba="0.8 0 0 1"/>\r\n            </material>\r\n        </visual>\r\n        <collision>\r\n            <geometry>\r\n                <box size="0.2 0.1 0.4"/>\r\n            </geometry>\r\n        </collision>\r\n        <inertial>\r\n            <origin xyz="0 0 0" rpy="0 0 0"/>\r\n            <mass value="10.0"/>\r\n            <inertia ixx="0.01" ixy="0" ixz="0" iyy="0.01" iyz="0" izz="0.01"/>\r\n        </inertial>\r\n    </link>\r\n\r\n    \x3c!-- Torso Joint (Fixed to base_link for simplicity, later can be revolute) --\x3e\r\n    <joint name="torso_joint" type="fixed">\r\n        <parent link="base_link"/>\r\n        <child link="torso_link"/>\r\n        <origin xyz="0 0 0.25" rpy="0 0 0"/> \x3c!-- Position torso above base --\x3e\r\n    </joint>\r\n\r\n    \x3c!-- Head Link --\x3e\r\n    <link name="head_link">\r\n        <visual>\r\n            <geometry>\r\n                <sphere radius="0.1"/>\r\n            </geometry>\r\n            <material name="green">\r\n                <color rgba="0 0.8 0 1"/>\r\n            </material>\r\n        </visual>\r\n        <collision>\r\n            <geometry>\r\n                <sphere radius="0.1"/>\r\n            </geometry>\r\n        </collision>\r\n        <inertial>\r\n            <origin xyz="0 0 0" rpy="0 0 0"/>\r\n            <mass value="2.0"/>\r\n            <inertia ixx="0.005" ixy="0" ixz="0" iyy="0.005" iyz="0" izz="0.005"/>\r\n        </inertial>\r\n    </link>\r\n\r\n    \x3c!-- Head Joint (Revolute for nodding) --\x3e\r\n    <joint name="head_yaw_joint" type="revolute">\r\n        <parent link="torso_link"/>\r\n        <child link="head_link"/>\r\n        <origin xyz="0 0 0.25" rpy="0 0 0"/>\r\n        <axis xyz="0 0 1"/> \x3c!-- Yaw around Z-axis --\x3e\r\n        <limit lower="-${M_PI/4}" upper="${M_PI/4}" effort="100" velocity="1.0"/>\r\n    </joint>\r\n\r\n    \x3c!-- Simple Right Arm --\x3e\r\n    <xacro:macro name="arm_segment" params="prefix parent_link_name origin_xyz">\r\n        <link name="${prefix}_shoulder_link">\r\n            <visual>\r\n                <geometry>\r\n                    <sphere radius="0.05"/>\r\n                </geometry>\r\n                <material name="grey">\r\n                    <color rgba="0.5 0.5 0.5 1"/>\r\n                </material>\r\n            </visual>\r\n            <collision>\r\n                <geometry>\r\n                    <sphere radius="0.05"/>\r\n                </geometry>\r\n            </collision>\r\n            <inertial>\r\n                <origin xyz="0 0 0" rpy="0 0 0"/>\r\n                <mass value="0.5"/>\r\n                <inertia ixx="0.001" ixy="0" ixz="0" iyy="0.001" iyz="0" izz="0.001"/>\r\n            </inertial>\r\n        </link>\r\n\r\n        <joint name="${prefix}_shoulder_pitch_joint" type="revolute">\r\n            <parent link="${parent_link_name}"/>\r\n            <child link="${prefix}_shoulder_link"/>\r\n            <origin xyz="${origin_xyz}" rpy="0 0 0"/>\r\n            <axis xyz="0 1 0"/>\r\n            <limit lower="-${M_PI/2}" upper="${M_PI/2}" effort="100" velocity="1.0"/>\r\n        </joint>\r\n\r\n        <link name="${prefix}_upper_arm_link">\r\n            <visual>\r\n                <geometry>\r\n                    <cylinder radius="0.03" length="0.2"/>\r\n                </geometry>\r\n                <material name="white">\r\n                    <color rgba="1 1 1 1"/>\r\n                </material>\r\n            </visual>\r\n            <collision>\r\n                <geometry>\r\n                    <cylinder radius="0.03" length="0.2"/>\r\n                </geometry>\r\n            </collision>\r\n            <inertial>\r\n                <origin xyz="0 0 0" rpy="0 0 0"/>\r\n                <mass value="0.8"/>\r\n                <inertia ixx="0.001" ixy="0" ixz="0" iyy="0.001" iyz="0" izz="0.001"/>\r\n            </inertial>\r\n        </link>\r\n\r\n        <joint name="${prefix}_upper_arm_joint" type="revolute">\r\n            <parent link="${prefix}_shoulder_link"/>\r\n            <child link="${prefix}_upper_arm_link"/>\r\n            <origin xyz="0 0 -0.1" rpy="0 0 0"/>\r\n            <axis xyz="0 1 0"/>\r\n            <limit lower="-${M_PI/2}" upper="${M_PI/2}" effort="100" velocity="1.0"/>\r\n        </joint>\r\n    </xacro:macro>\r\n\r\n    <xacro:arm_segment prefix="right" parent_link_name="torso_link" origin_xyz="0 -0.15 0.1"/>\r\n    \x3c!-- <xacro:arm_segment prefix="left" parent_link_name="torso_link" origin_xyz="0 0.15 0.1"/> --\x3e\r\n\r\n</robot>\n'})}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Generate the URDF from Xacro:"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:"cd <your_ros2_ws>/src/my_humanoid_description/urdf\r\nros2 run xacro xacro humanoid.urdf.xacro > humanoid.urdf\n"})}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Create a launch file to display the URDF in RViz2."}),"\r\nNavigate to ",(0,s.jsx)(e.code,{children:"my_humanoid_description"})," package and create a ",(0,s.jsx)(e.code,{children:"launch"})," directory:","\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:"cd <your_ros2_ws>/src/my_humanoid_description\r\nmkdir launch\r\ncd launch\n"})}),"\n","Create ",(0,s.jsx)(e.code,{children:"display_humanoid.launch.py"}),":","\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-python",children:"import os\r\nfrom ament_index_python.packages import get_package_share_directory\r\nfrom launch import LaunchDescription\r\nfrom launch.actions import DeclareLaunchArgument\r\nfrom launch.substitutions import LaunchConfiguration\r\nfrom launch_ros.actions import Node\r\n\r\ndef generate_launch_description():\r\n    # Get the path to the robot description package\r\n    robot_description_path = get_package_share_directory('my_humanoid_description')\r\n    urdf_file_path = os.path.join(robot_description_path, 'urdf', 'humanoid.urdf')\r\n\r\n    # Load the URDF file\r\n    with open(urdf_file_path, 'r') as infp:\r\n        robot_desc = infp.read()\r\n\r\n    # Define the robot state publisher node\r\n    robot_state_publisher_node = Node(\r\n        package='robot_state_publisher',\r\n        executable='robot_state_publisher',\r\n        name='robot_state_publisher',\r\n        output='screen',\r\n        parameters=[{'robot_description': robot_desc}]\r\n    )\r\n\r\n    # Define the joint state publisher GUI node\r\n    joint_state_publisher_gui_node = Node(\r\n        package='joint_state_publisher_gui',\r\n        executable='joint_state_publisher_gui',\r\n        name='joint_state_publisher_gui',\r\n        output='screen'\r\n    )\r\n\r\n    # Define the RViz2 node\r\n    rviz_config_dir = os.path.join(get_package_share_directory('my_humanoid_description'), 'rviz')\r\n    default_rviz_config_path = os.path.join(rviz_config_dir, 'humanoid_config.rviz')\r\n\r\n    # Create a dummy RViz config file (will be overwritten/modified by user)\r\n    # It's good practice to provide one even if minimal\r\n    if not os.path.exists(rviz_config_dir):\r\n        os.makedirs(rviz_config_dir)\r\n    if not os.path.exists(default_rviz_config_path):\r\n        # Minimal RViz config XML. Users will save their own from RViz GUI.\r\n        with open(default_rviz_config_path, 'w') as f:\r\n            f.write(\"\"\"\n"})}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(e.p,{children:"Views:\r\nCurrent:\r\nClass: rviz_default_plugins/Orbit\r\nDistance: 2.0\r\nEnable Stereo: false\r\nFocal Point:\r\nX: 0.0\r\nY: 0.0\r\nZ: 0.0\r\nField of View: 0.7\r\nNear Clip: 0.01\r\nPitch: 0.785\r\nTarget Frame: <Fixed Frame>\r\nYaw: 4.71\r\nWindow Geometry:\r\nFocal Point:\r\nX: 0.0\r\nY: 0.0\r\nZ: 0.0\r\nSize: 1920 1080\r\nWindow State: ''\r\nX: 0\r\nY: 0\r\nGlobal Options:\r\nBackground Color: 48 50 54\r\nFixed Frame: base_link # Ensure this matches your robot's base frame\r\nFrame Rate: 30\r\nNear Clip: 0.01\r\nDefault Light: true\r\nPanels:"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:["Class: rviz_default_plugins/Displays\r\nExpanded:","\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"/Global Options1"}),"\n",(0,s.jsx)(e.li,{children:"/RobotModel1\r\nName: Displays\r\nSplit: 0.5\r\nTree Height: 200"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["Class: rviz_default_plugins/Views\r\nExpanded:","\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"/Current View1\r\nName: Views\r\nSplit: 0.5\r\nTree Height: 200\r\nToolbars:\r\ntool_bar:\r\nBuiltin Tools:"}),"\n",(0,s.jsx)(e.li,{children:"Class: rviz_default_plugins/MoveCamera\r\nHide Action Description: true\r\nHide Menu: true\r\nName: Camera"}),"\n",(0,s.jsx)(e.li,{children:"Class: rviz_default_plugins/Select\r\nHide Action Description: true\r\nHide Menu: true\r\nName: Select"}),"\n",(0,s.jsx)(e.li,{children:"Class: rviz_default_plugins/Interact\r\nHide Action Description: true\r\nHide Menu: true\r\nName: Interact"}),"\n",(0,s.jsx)(e.li,{children:"Class: rviz_default_plugins/Viewpoint\r\nHide Action Description: true\r\nHide Menu: true\r\nName: Viewpoint"}),"\n",(0,s.jsx)(e.li,{children:"Class: rviz_default_plugins/Focus\r\nHide Action Description: true\r\nHide Menu: true\r\nName: Focus"}),"\n",(0,s.jsx)(e.li,{children:"Class: rviz_default_plugins/Measure\r\nHide Action Description: true\r\nHide Menu: true\r\nName: Measure"}),"\n",(0,s.jsx)(e.li,{children:"Class: rviz_default_plugins/SetInitialPose\r\nHide Action Description: true\r\nHide Menu: true\r\nName: Set Initial Pose"}),"\n",(0,s.jsx)(e.li,{children:"Class: rviz_default_plugins/SetGoalPose\r\nHide Action Description: true\r\nHide Menu: true\r\nName: Set Goal Pose\r\nName: Tools\r\nVisible: true\r\nDisplays:"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:['Class: rviz_default_plugins/RobotModel\r\nName: RobotModel\r\nEnabled: true\r\nLinks:\r\nAlpha: 1\r\nHighlight Alpha: 0.9\r\nShow Axes: false\r\nShow Arrows: false\r\nShow Link Current: false\r\nShow Link Previous: false\r\nShow Tree: false\r\nExpand Tree: false\r\nRobot Description: robot_description\r\nTF Prefix: ""\r\nVisual Enabled: true\r\nCollision Enabled: false\r\nInertia Enabled: false\r\nProperty Tree Widget:\r\nExpanded:',"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsx)(e.p,{children:"/Global Options1"}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsx)(e.p,{children:'/RobotModel1\r\nSplit: 0.5\r\nTree Height: 200\r\n""")'}),"\n",(0,s.jsx)(e.p,{children:"rviz_node = Node(\r\npackage='rviz2',\r\nexecutable='rviz2',\r\nname='rviz2',\r\noutput='screen',\r\narguments=['-d', default_rviz_config_path]\r\n)"}),"\n",(0,s.jsx)(e.p,{children:"return LaunchDescription([\r\nrobot_state_publisher_node,\r\njoint_state_publisher_gui_node,\r\nrviz_node\r\n])"}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{})}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(e.ol,{start:"6",children:["\n",(0,s.jsxs)(e.li,{children:[(0,s.jsxs)(e.strong,{children:["Add ",(0,s.jsx)(e.code,{children:"install"})," rules for the URDF, Xacro, and launch files in ",(0,s.jsx)(e.code,{children:"my_humanoid_description/CMakeLists.txt"}),":"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-cmake",children:"cmake_minimum_required(VERSION 3.8 FATAL_ERROR)\r\nproject(my_humanoid_description)\r\n\r\n# Find ROS 2 packages\r\nfind_package(ament_cmake REQUIRED)\r\nfind_package(urdf REQUIRED)\r\nfind_package(xacro REQUIRED)\r\nfind_package(rviz2_ros_pkgs REQUIRED) # Added for launch file\r\n\r\n# Install URDF and Xacro files\r\ninstall(DIRECTORY urdf\r\n  DESTINATION share/${PROJECT_NAME}\r\n)\r\n\r\n# Install launch files\r\ninstall(DIRECTORY launch\r\n  DESTINATION share/${PROJECT_NAME}\r\n)\r\n\r\n# Install RViz config files\r\ninstall(DIRECTORY rviz\r\n  DESTINATION share/${PROJECT_NAME}\r\n)\r\n\r\nament_package()\n"})}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Build your package:"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:"cd <your_ros2_ws>\r\ncolcon build --packages-select my_humanoid_description\n"})}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Source your workspace:"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:"source install/setup.bash\n"})}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Launch the display nodes:"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:"ros2 launch my_humanoid_description display_humanoid.launch.py\n"})}),"\n","An RViz2 window should open, displaying your simple humanoid model. A ",(0,s.jsx)(e.code,{children:"joint_state_publisher_gui"})," window will also appear, allowing you to manipulate the ",(0,s.jsx)(e.code,{children:"head_yaw_joint"})," and ",(0,s.jsx)(e.code,{children:"right_shoulder_pitch_joint"}),' sliders to see the robot move. You will need to click on the "Displays" panel in RViz, then expand "RobotModel" and ensure "Robot Description" is set to "robot_description" (which it should be by default due to the launch file). Also ensure the "Fixed Frame" in Global Options is set to "base_link".']}),"\n"]}),"\n",(0,s.jsx)(e.h2,{id:"expected-output",children:"Expected Output"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:["A well-formed ",(0,s.jsx)(e.code,{children:"humanoid.urdf"})," file generated from ",(0,s.jsx)(e.code,{children:"humanoid.urdf.xacro"}),"."]}),"\n",(0,s.jsx)(e.li,{children:"A 3D visualization of your simple humanoid robot in RViz2."}),"\n",(0,s.jsxs)(e.li,{children:["Ability to articulate the defined joints of the humanoid model using the ",(0,s.jsx)(e.code,{children:"joint_state_publisher_gui"}),"."]}),"\n",(0,s.jsx)(e.li,{children:"A clear understanding of how URDF defines the physical and kinematic properties of a robot."}),"\n"]}),"\n",(0,s.jsx)(e.h2,{id:"assessment-questions",children:"Assessment Questions"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"What are the two primary elements of a URDF file, and what role does each play in describing a robot?"}),"\n",(0,s.jsxs)(e.li,{children:["Explain the difference between ",(0,s.jsx)(e.code,{children:"visual"})," and ",(0,s.jsx)(e.code,{children:"collision"})," elements within a ",(0,s.jsx)(e.code,{children:"<link>"})," tag. Why is it important to have both?"]}),"\n",(0,s.jsxs)(e.li,{children:["When would you choose a ",(0,s.jsx)(e.code,{children:"revolute"})," joint type over a ",(0,s.jsx)(e.code,{children:"continuous"})," joint type?"]}),"\n",(0,s.jsx)(e.li,{children:"Describe the benefits of using Xacro instead of raw URDF for complex robot descriptions."}),"\n"]}),"\n",(0,s.jsx)(e.h2,{id:"real-world-applications",children:"Real-world Applications"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Humanoid Robot Design and Prototyping:"})," Rapidly iterating on robot mechanical designs and testing their kinematics before physical construction."]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Motion Planning and Control:"})," Providing precise kinematic and dynamic models for algorithms that calculate inverse kinematics, trajectory generation, and collision avoidance."]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Robot Simulation:"})," Integrating detailed robot models into physics simulators like Gazebo (covered in Module 2) for realistic behavior testing."]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Robot Teleoperation and Visualization:"})," Creating intuitive 3D interfaces for controlling and monitoring humanoid robots remotely."]}),"\n"]}),"\n",(0,s.jsx)(e.h2,{id:"edge-cases",children:"Edge Cases"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Incorrect Coordinate Frames:"})," Misaligned or incorrectly defined ",(0,s.jsx)(e.code,{children:"<origin>"}),' tags can lead to a "tangled" robot model in RViz2, making it difficult to interpret.']}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Missing Inertial Properties:"})," Without proper ",(0,s.jsx)(e.code,{children:"<inertial>"})," elements, physics simulations will not behave realistically."]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"URDF Validation Errors:"})," Typos or incorrect XML structure can prevent the URDF from loading, requiring careful debugging."]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Complex Meshes:"})," Using overly detailed visual meshes (e.g., high-polygon STL files) can severely impact visualization and simulation performance."]}),"\n"]}),"\n",(0,s.jsx)(e.hr,{}),"\n",(0,s.jsx)(e.h3,{id:"key-entities",children:(0,s.jsx)(e.strong,{children:"Key Entities"})}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"URDF (Unified Robot Description Format):"})," The standard XML format in ROS for describing a robot's physical characteristics, kinematics, and visual appearance."]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Link:"})," A fundamental URDF element representing a rigid body of the robot, characterized by its visual, collision, and inertial properties."]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Joint:"})," A URDF element that defines the kinematic connection between two links (parent and child), specifying the type of motion allowed (e.g., revolute, prismatic, fixed)."]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Xacro (XML Macros):"})," A powerful preprocessor for URDF files that allows for modularity, parameterization, and reusability through macros and variables, making complex robot descriptions more manageable."]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"RViz2:"})," A versatile 3D visualization tool in ROS 2 that displays robot models, sensor data, planning outputs, and more, essential for debugging and understanding robotic systems."]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsxs)(e.strong,{children:[(0,s.jsx)(e.code,{children:"robot_state_publisher"}),":"]})," A ROS 2 node that reads the URDF (or Xacro) and the current joint states, then publishes the complete robot's state (all link transforms) as TF2 messages."]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsxs)(e.strong,{children:[(0,s.jsx)(e.code,{children:"joint_state_publisher_gui"}),":"]})," A ROS 2 tool that allows manual manipulation of joint angles through a graphical slider interface, publishing ",(0,s.jsx)(e.code,{children:"JointState"})," messages to visualize robot movement."]}),"\n"]}),"\n",(0,s.jsx)(e.hr,{}),"\n",(0,s.jsx)(e.h3,{id:"references",children:(0,s.jsx)(e.strong,{children:"References"})}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:["Open Robotics. (2022). ",(0,s.jsx)(e.em,{children:"ROS 2 Documentation: URDF Overview"}),". (Placeholder citation)"]}),"\n",(0,s.jsxs)(e.li,{children:["Rossum, B. (2012). ",(0,s.jsx)(e.em,{children:"Learning ROS for Robotics Programming"}),". Packt Publishing. (Placeholder citation)"]}),"\n",(0,s.jsxs)(e.li,{children:["Wollman, D. A. (2014). ",(0,s.jsx)(e.em,{children:"ROS By Example Volume 1: Hydro"}),". CreateSpace Independent Publishing Platform. (Placeholder citation)"]}),"\n",(0,s.jsxs)(e.li,{children:["Quigley, M., et al. (2009). ROS: an open-source Robot Operating System. ",(0,s.jsx)(e.em,{children:"OSROSE. Citeseer"}),". (Placeholder citation)"]}),"\n"]})]})}function h(n={}){const{wrapper:e}={...(0,o.R)(),...n.components};return e?(0,s.jsx)(e,{...n,children:(0,s.jsx)(c,{...n})}):c(n)}},8453:(n,e,i)=>{i.d(e,{R:()=>t,x:()=>l});var r=i(6540);const s={},o=r.createContext(s);function t(n){const e=r.useContext(o);return r.useMemo(function(){return"function"==typeof n?n(e):{...e,...n}},[e,n])}function l(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(s):n.components||s:t(n.components),r.createElement(o.Provider,{value:e},n.children)}}}]);