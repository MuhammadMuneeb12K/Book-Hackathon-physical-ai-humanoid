"use strict";(globalThis.webpackChunkhumanoid_robotics_book=globalThis.webpackChunkhumanoid_robotics_book||[]).push([[476],{3069:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>c,contentTitle:()=>o,default:()=>h,frontMatter:()=>a,metadata:()=>s,toc:()=>t});const s=JSON.parse('{"id":"module-1/launch-files-multi-node","title":"1.5 Launch Files & Multi-node Systems","description":"As robotic systems grow in complexity, managing individual ROS 2 nodes manually becomes impractical. Imagine starting dozens of nodes, each with specific parameters and dependencies, across multiple terminals \u2013 it would be a logistical nightmare. This is where ROS 2 Launch Files come in. They provide a powerful, programmatic way to define, configure, and orchestrate multiple ROS 2 nodes, processes, and even entire systems, allowing for efficient startup and management of complex humanoid robot applications.","source":"@site/docs/module-1/05-launch-files-multi-node.mdx","sourceDirName":"module-1","slug":"/module-1/launch-files-multi-node","permalink":"/Book-Hackathon-physical-ai-humanoid/module-1/launch-files-multi-node","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":5,"frontMatter":{"id":"launch-files-multi-node","title":"1.5 Launch Files & Multi-node Systems"},"sidebar":"defaultSidebar","previous":{"title":"1.4 TF2: Frames & Transformations","permalink":"/Book-Hackathon-physical-ai-humanoid/module-1/tf2-frames-transformations"},"next":{"title":"Module 2: Humanoid Robot Kinematics","permalink":"/Book-Hackathon-physical-ai-humanoid/category/module-2-humanoid-robot-kinematics"}}');var r=i(4848),l=i(8453);const a={id:"launch-files-multi-node",title:"1.5 Launch Files & Multi-node Systems"},o=void 0,c={},t=[{value:"Goal",id:"goal",level:2},{value:"Learning Objectives",id:"learning-objectives",level:2},{value:"Prerequisites",id:"prerequisites",level:2},{value:"Key Concepts",id:"key-concepts",level:2},{value:"Tools",id:"tools",level:2},{value:"Chapter Sections",id:"chapter-sections",level:2},{value:"1.5.1 The Need for Orchestration: Why Use Launch Files?",id:"151-the-need-for-orchestration-why-use-launch-files",level:3},{value:"1.5.2 Basic Python Launch File Structure",id:"152-basic-python-launch-file-structure",level:3},{value:"1.5.3 Launching Single and Multiple Nodes",id:"153-launching-single-and-multiple-nodes",level:3},{value:"1.5.4 Configuring Nodes: Parameters, Remapping, and Namespaces",id:"154-configuring-nodes-parameters-remapping-and-namespaces",level:3},{value:"1.5.5 Advanced Launch File Techniques",id:"155-advanced-launch-file-techniques",level:3},{value:"1.5.6 Debugging Launch Files",id:"156-debugging-launch-files",level:3},{value:"Required Diagrams",id:"required-diagrams",level:2},{value:"Hands-on Labs",id:"hands-on-labs",level:2},{value:"Lab 1.5.1: Orchestrate Multiple ROS 2 Nodes",id:"lab-151-orchestrate-multiple-ros-2-nodes",level:3},{value:"Lab 1.5.2: Launching with Parameters and Remappings",id:"lab-152-launching-with-parameters-and-remappings",level:3},{value:"Expected Output",id:"expected-output",level:2},{value:"Assessment Questions",id:"assessment-questions",level:2},{value:"Real-world Applications",id:"real-world-applications",level:2},{value:"Edge Cases",id:"edge-cases",level:2},{value:"<strong>Key Entities</strong>",id:"key-entities",level:3},{value:"<strong>References</strong>",id:"references",level:3}];function d(e){const n={code:"code",em:"em",h2:"h2",h3:"h3",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,l.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.p,{children:"As robotic systems grow in complexity, managing individual ROS 2 nodes manually becomes impractical. Imagine starting dozens of nodes, each with specific parameters and dependencies, across multiple terminals \u2013 it would be a logistical nightmare. This is where ROS 2 Launch Files come in. They provide a powerful, programmatic way to define, configure, and orchestrate multiple ROS 2 nodes, processes, and even entire systems, allowing for efficient startup and management of complex humanoid robot applications."}),"\n",(0,r.jsx)(n.h2,{id:"goal",children:"Goal"}),"\n",(0,r.jsx)(n.p,{children:"The goal of this chapter is to teach students how to use ROS 2 launch files to orchestrate multi-node systems, enabling them to efficiently manage and deploy complex humanoid robot applications, including setting parameters, remapping topics, and handling node lifecycles."}),"\n",(0,r.jsx)(n.h2,{id:"learning-objectives",children:"Learning Objectives"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Understand the fundamental structure and purpose of ROS 2 launch files."}),"\n",(0,r.jsx)(n.li,{children:"Learn to write launch files using Python, the recommended approach for ROS 2."}),"\n",(0,r.jsxs)(n.li,{children:["Master common launch actions: ",(0,r.jsx)(n.code,{children:"Node"}),", ",(0,r.jsx)(n.code,{children:"ExecuteProcess"}),", ",(0,r.jsx)(n.code,{children:"IncludeLaunchDescription"}),"."]}),"\n",(0,r.jsx)(n.li,{children:"Configure nodes with parameters, remappings, and namespace settings within launch files."}),"\n",(0,r.jsx)(n.li,{children:"Orchestrate multiple interdependent nodes and external processes."}),"\n",(0,r.jsx)(n.li,{children:"Utilize launch arguments to make launch files flexible and reusable."}),"\n",(0,r.jsx)(n.li,{children:"Debug launch files and troubleshoot common issues."}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"prerequisites",children:"Prerequisites"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Familiarity with Python programming."}),"\n",(0,r.jsx)(n.li,{children:"Understanding of ROS 2 nodes, topics, services, and parameters."}),"\n",(0,r.jsx)(n.li,{children:"Experience running individual ROS 2 nodes from previous chapters."}),"\n",(0,r.jsx)(n.li,{children:"Basic understanding of file paths and directory structures in Linux."}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"key-concepts",children:"Key Concepts"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Launch File:"})," A Python script (or XML, though less common in ROS 2) that defines and executes a set of ROS 2 nodes and other processes."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsxs)(n.strong,{children:[(0,r.jsx)(n.code,{children:"LaunchDescription"}),":"]})," The core object in a launch file, containing a list of actions to execute."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsxs)(n.strong,{children:[(0,r.jsx)(n.code,{children:"Node"})," Action:"]})," Used to launch a ROS 2 node, specifying its package, executable, name, parameters, etc."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsxs)(n.strong,{children:[(0,r.jsx)(n.code,{children:"ExecuteProcess"})," Action:"]})," Used to launch any arbitrary external command or process (non-ROS 2 applications)."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsxs)(n.strong,{children:[(0,r.jsx)(n.code,{children:"IncludeLaunchDescription"})," Action:"]})," Allows the modular inclusion of other launch files, promoting reusability."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsxs)(n.strong,{children:[(0,r.jsx)(n.code,{children:"DeclareLaunchArgument"}),":"]})," Defines arguments that can be passed to the launch file from the command line."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsxs)(n.strong,{children:[(0,r.jsx)(n.code,{children:"LaunchConfiguration"}),":"]})," Retrieves the value of a declared launch argument."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Parameters:"})," Values passed to nodes at startup."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Remapping:"})," Changing the name of a topic, service, or action for a specific node without modifying its source code."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Namespaces:"})," Grouping ROS 2 nodes and topics under a common hierarchical name, useful for multi-robot systems."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsxs)(n.strong,{children:[(0,r.jsx)(n.code,{children:"ament_index_python"}),":"]})," A Python package used in launch files to find other ROS 2 packages."]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"tools",children:"Tools"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"ROS 2 Humble:"})," The robotic framework."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsxs)(n.strong,{children:[(0,r.jsx)(n.code,{children:"ros2 launch"}),":"]})," Command-line tool to execute launch files."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsxs)(n.strong,{children:[(0,r.jsx)(n.code,{children:"rqt_graph"}),":"]})," For visualizing the resulting ROS Graph."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Code Editor:"})," Visual Studio Code (recommended) with Python support."]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"chapter-sections",children:"Chapter Sections"}),"\n",(0,r.jsx)(n.h3,{id:"151-the-need-for-orchestration-why-use-launch-files",children:"1.5.1 The Need for Orchestration: Why Use Launch Files?"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Challenges of manual node management in complex systems."}),"\n",(0,r.jsx)(n.li,{children:"Benefits: Reproducibility, simplified startup, parameter management, modularity, and debugging."}),"\n",(0,r.jsx)(n.li,{children:"Evolution from ROS 1 XML launch to ROS 2 Python launch."}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"152-basic-python-launch-file-structure",children:"1.5.2 Basic Python Launch File Structure"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["The ",(0,r.jsx)(n.code,{children:"generate_launch_description()"})," function."]}),"\n",(0,r.jsxs)(n.li,{children:["Returning a ",(0,r.jsx)(n.code,{children:"LaunchDescription"})," object."]}),"\n",(0,r.jsxs)(n.li,{children:["Importing necessary modules (",(0,r.jsx)(n.code,{children:"LaunchDescription"}),", ",(0,r.jsx)(n.code,{children:"Node"}),", ",(0,r.jsx)(n.code,{children:"ExecuteProcess"}),", etc.)."]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"153-launching-single-and-multiple-nodes",children:"1.5.3 Launching Single and Multiple Nodes"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsxs)(n.strong,{children:["The ",(0,r.jsx)(n.code,{children:"Node"})," Action:"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"package"}),": The name of the ROS 2 package containing the executable."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"executable"}),": The name of the executable to run."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"name"}),": (Optional) The desired name for the node."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"output"}),": Directing node output (",(0,r.jsx)(n.code,{children:"screen"}),", ",(0,r.jsx)(n.code,{children:"log"}),")."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"arguments"}),": Command-line arguments for the node."]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["Launching multiple ",(0,r.jsx)(n.code,{children:"Node"})," actions concurrently."]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"154-configuring-nodes-parameters-remapping-and-namespaces",children:"1.5.4 Configuring Nodes: Parameters, Remapping, and Namespaces"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Setting Node Parameters:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Passing parameters directly (",(0,r.jsx)(n.code,{children:"parameters=[{'param_name': value}]"}),")."]}),"\n",(0,r.jsxs)(n.li,{children:["Loading parameters from YAML files (",(0,r.jsx)(n.code,{children:"parameters=[LaunchConfiguration('params_file')]"}),")."]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Remapping Topics, Services, and Actions:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"remappings=[('/old_topic', '/new_topic')]"}),"."]}),"\n",(0,r.jsx)(n.li,{children:"Use cases for remapping (e.g., adapting nodes to different sensor topics)."}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Using Namespaces:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"namespace='/robot_a'"}),"."]}),"\n",(0,r.jsx)(n.li,{children:"Organizing nodes for multi-robot deployments or sub-systems."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"155-advanced-launch-file-techniques",children:"1.5.5 Advanced Launch File Techniques"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsxs)(n.strong,{children:[(0,r.jsx)(n.code,{children:"ExecuteProcess"}),":"]})," Running non-ROS commands (e.g., a simulation environment, a custom Python script)."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsxs)(n.strong,{children:[(0,r.jsx)(n.code,{children:"IncludeLaunchDescription"}),":"]})," Building modular and reusable launch files."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsxs)(n.strong,{children:[(0,r.jsx)(n.code,{children:"DeclareLaunchArgument"})," and ",(0,r.jsx)(n.code,{children:"LaunchConfiguration"}),":"]})," Making launch files dynamic.","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Providing default values and descriptions."}),"\n",(0,r.jsxs)(n.li,{children:["Passing arguments from the command line: ",(0,r.jsx)(n.code,{children:"ros2 launch my_package my_launch.py robot_id:=humanoid_1"}),"."]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Conditional Launching:"})," Using ",(0,r.jsx)(n.code,{children:"IfCondition"})," and ",(0,r.jsx)(n.code,{children:"UnlessCondition"})," (e.g., launching a GUI only if a debug flag is set)."]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"156-debugging-launch-files",children:"1.5.6 Debugging Launch Files"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Common errors: Missing packages, incorrect executable names, bad YAML syntax."}),"\n",(0,r.jsxs)(n.li,{children:["Using ",(0,r.jsx)(n.code,{children:"output='screen'"})," to see node logs."]}),"\n",(0,r.jsxs)(n.li,{children:["Inspecting the ROS Graph with ",(0,r.jsx)(n.code,{children:"rqt_graph"})," after launching."]}),"\n",(0,r.jsxs)(n.li,{children:["Using ",(0,r.jsx)(n.code,{children:"ros2 param dump"})," to verify parameters."]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"required-diagrams",children:"Required Diagrams"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Launch File Execution Pipeline:"})," A flowchart showing ",(0,r.jsx)(n.code,{children:"ros2 launch"})," parsing the Python script, executing actions, and bringing up nodes."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Multi-Node ROS Graph:"})," A visual representation of several nodes launched via a single launch file, showing their interconnections and potential namespaces."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Launch File Modular Structure:"})," A diagram illustrating how one main launch file can include sub-launch files to create a hierarchical system."]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"hands-on-labs",children:"Hands-on Labs"}),"\n",(0,r.jsx)(n.h3,{id:"lab-151-orchestrate-multiple-ros-2-nodes",children:"Lab 1.5.1: Orchestrate Multiple ROS 2 Nodes"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Objective:"})," Create a launch file that starts the ",(0,r.jsx)(n.code,{children:"imu_subscriber"})," and ",(0,r.jsx)(n.code,{children:"joint_publisher"})," nodes from Lab 1.2.1 and Lab 1.2.2, and also launches ",(0,r.jsx)(n.code,{children:"rqt_graph"})," to visualize their interactions."]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Prerequisites:"})," Completed Lab 1.2.1 and Lab 1.2.2, with ",(0,r.jsx)(n.code,{children:"imu_processor"})," package built."]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Instructions:"})}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsxs)(n.strong,{children:["Navigate to your ",(0,r.jsx)(n.code,{children:"imu_processor"})," package's ",(0,r.jsx)(n.code,{children:"launch"})," directory."]})," If it doesn't exist, create it:","\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"cd <your_ros2_ws>/src/imu_processor\r\nmkdir launch\r\ncd launch\n"})}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsxs)(n.strong,{children:["Create a new launch file named ",(0,r.jsx)(n.code,{children:"imu_joint_demo.launch.py"}),":"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:"import os\r\nfrom ament_index_python.packages import get_package_share_directory\r\nfrom launch import LaunchDescription\r\nfrom launch_ros.actions import Node\r\n\r\ndef generate_launch_description():\r\n    ld = LaunchDescription()\r\n\r\n    # Define the IMU Subscriber Node\r\n    imu_subscriber_node = Node(\r\n        package='imu_processor',\r\n        executable='imu_subscriber',\r\n        name='imu_processor_node',\r\n        output='screen',\r\n        emulate_tty=True, # For better logging output in console\r\n    )\r\n    ld.add_action(imu_subscriber_node)\r\n\r\n    # Define the Joint Publisher Node\r\n    joint_publisher_node = Node(\r\n        package='imu_processor',\r\n        executable='joint_publisher',\r\n        name='joint_command_publisher_node',\r\n        output='screen',\r\n        emulate_tty=True,\r\n    )\r\n    ld.add_action(joint_publisher_node)\r\n\r\n    # Define the rqt_graph process (non-ROS node)\r\n    rqt_graph_process = Node(\r\n        package='rqt_graph',\r\n        executable='rqt_graph',\r\n        name='rqt_graph_visualizer',\r\n        output='screen',\r\n        emulate_tty=True,\r\n    )\r\n    ld.add_action(rqt_graph_process)\r\n\r\n    return ld\n"})}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsxs)(n.strong,{children:["Ensure your ",(0,r.jsx)(n.code,{children:"imu_processor"})," package's ",(0,r.jsx)(n.code,{children:"setup.py"})," includes the launch files for installation."]})," Modify ",(0,r.jsx)(n.code,{children:"imu_processor/setup.py"})," in the ",(0,r.jsx)(n.code,{children:"data_files"})," section:","\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:"# ...\r\n    data_files=[\r\n        ('share/' + package_name, ['package.xml']),\r\n        (os.path.join('share', package_name, 'launch'), ['launch/imu_joint_demo.launch.py']), # Add this line\r\n    ],\r\n# ...\n"})}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsxs)(n.strong,{children:["Build your ",(0,r.jsx)(n.code,{children:"imu_processor"})," package and source your workspace:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"cd <your_ros2_ws>\r\ncolcon build --packages-select imu_processor\r\nsource install/setup.bash\n"})}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Launch the multi-node system:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"ros2 launch imu_processor imu_joint_demo.launch.py\n"})}),"\n","You should see the ",(0,r.jsx)(n.code,{children:"imu_subscriber"})," and ",(0,r.jsx)(n.code,{children:"joint_publisher"})," nodes starting, printing their output, and ",(0,r.jsx)(n.code,{children:"rqt_graph"})," launching in a separate window, visualizing the active nodes and topics."]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"lab-152-launching-with-parameters-and-remappings",children:"Lab 1.5.2: Launching with Parameters and Remappings"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Objective:"})," Modify the previous launch file to pass a parameter to the ",(0,r.jsx)(n.code,{children:"imu_subscriber"})," node (e.g., change its logging level) and remap the ",(0,r.jsx)(n.code,{children:"joint_commands"})," topic to a different name."]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Prerequisites:"})," Completed Lab 1.5.1."]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Instructions:"})}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsxs)(n.strong,{children:["Modify ",(0,r.jsx)(n.code,{children:"imu_subscriber_node.py"})," to accept a parameter for logging level:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:"# ... (inside ImuSubscriber class, __init__ method) ...\r\n        super().__init__('imu_subscriber')\r\n        self.declare_parameter('log_level', 'INFO') # Declare a parameter with default value\r\n\r\n        log_level_str = self.get_parameter('log_level').get_parameter_value().string_value\r\n        if log_level_str == 'DEBUG':\r\n            self.get_logger().set_level(rclpy.logging.LoggingSeverity.DEBUG)\r\n        elif log_level_str == 'WARN':\r\n            self.get_logger().set_level(rclpy.logging.LoggingSeverity.WARN)\r\n        # Add more levels as needed\r\n        self.get_logger().info(f'IMU Subscriber Node started with log level: {log_level_str}.')\r\n# ...\n"})}),"\n","Rebuild ",(0,r.jsx)(n.code,{children:"imu_processor"})," and source your workspace after this change."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsxs)(n.strong,{children:["Create a new launch file ",(0,r.jsx)(n.code,{children:"imu_joint_config_demo.launch.py"})," in the ",(0,r.jsx)(n.code,{children:"launch"})," directory of ",(0,r.jsx)(n.code,{children:"imu_processor"}),":"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-python",children:"import os\r\nfrom ament_index_python.packages import get_package_share_directory\r\nfrom launch import LaunchDescription\r\nfrom launch.actions import DeclareLaunchArgument\r\nfrom launch.substitutions import LaunchConfiguration\r\nfrom launch_ros.actions import Node\r\n\r\ndef generate_launch_description():\r\n    ld = LaunchDescription()\r\n\r\n    # Declare a launch argument for the log level\r\n    log_level_arg = DeclareLaunchArgument(\r\n        'imu_log_level',\r\n        default_value='WARN',\r\n        description='Logging level for the IMU subscriber node (DEBUG, INFO, WARN, ERROR, FATAL)'\r\n    )\r\n    ld.add_action(log_level_arg)\r\n\r\n    # Define the IMU Subscriber Node with parameter\r\n    imu_subscriber_node = Node(\r\n        package='imu_processor',\r\n        executable='imu_subscriber',\r\n        name='imu_processor_node',\r\n        output='screen',\r\n        emulate_tty=True,\r\n        parameters=[\r\n            {'log_level': LaunchConfiguration('imu_log_level')} # Pass the launch argument as a parameter\r\n        ]\r\n    )\r\n    ld.add_action(imu_subscriber_node)\r\n\r\n    # Define the Joint Publisher Node with topic remapping\r\n    joint_publisher_node = Node(\r\n        package='imu_processor',\r\n        executable='joint_publisher',\r\n        name='joint_command_publisher_node',\r\n        output='screen',\r\n        emulate_tty=True,\r\n        remappings=[\r\n            ('/joint_commands', '/robot_1/joint_states_cmd') # Remap topic\r\n        ]\r\n    )\r\n    ld.add_action(joint_publisher_node)\r\n\r\n    # Optional: rqt_graph process remains for visualization\r\n    rqt_graph_process = Node(\r\n        package='rqt_graph',\r\n        executable='rqt_graph',\r\n        name='rqt_graph_visualizer',\r\n        output='screen',\r\n        emulate_tty=True,\r\n    )\r\n    ld.add_action(rqt_graph_process)\r\n\r\n    return ld\n"})}),"\n"]}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsxs)(n.strong,{children:["Update ",(0,r.jsx)(n.code,{children:"imu_processor/setup.py"})," to include the new launch file."]})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.strong,{children:"Build and source your workspace."})}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Launch the system, overriding the default log level:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"ros2 launch imu_processor imu_joint_config_demo.launch.py imu_log_level:=DEBUG\n"})}),"\n","Observe the console output of ",(0,r.jsx)(n.code,{children:"imu_subscriber"})," to see if the log level changed. Use ",(0,r.jsx)(n.code,{children:"ros2 topic list"})," and ",(0,r.jsx)(n.code,{children:"rqt_graph"})," to confirm the ",(0,r.jsx)(n.code,{children:"joint_commands"})," topic is now remapped to ",(0,r.jsx)(n.code,{children:"/robot_1/joint_states_cmd"}),"."]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"expected-output",children:"Expected Output"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"A functional multi-node ROS 2 system launched and managed by a Python launch file."}),"\n",(0,r.jsx)(n.li,{children:"Nodes configured with parameters passed from the launch file."}),"\n",(0,r.jsx)(n.li,{children:"ROS 2 topics remapped to different names as specified in the launch file."}),"\n",(0,r.jsxs)(n.li,{children:["An ",(0,r.jsx)(n.code,{children:"rqt_graph"})," visualization that accurately reflects the launched nodes and their remapped topics."]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"assessment-questions",children:"Assessment Questions"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"What are the advantages of using Python launch files over XML launch files in ROS 2?"}),"\n",(0,r.jsx)(n.li,{children:"You need to start two instances of the same node, each controlling a different part of a humanoid robot. How would you configure your launch file to ensure they operate independently (e.g., using namespaces or remappings)?"}),"\n",(0,r.jsxs)(n.li,{children:["Explain how ",(0,r.jsx)(n.code,{children:"DeclareLaunchArgument"})," and ",(0,r.jsx)(n.code,{children:"LaunchConfiguration"})," work together to create flexible launch files."]}),"\n",(0,r.jsxs)(n.li,{children:["When would you use ",(0,r.jsx)(n.code,{children:"ExecuteProcess"})," instead of ",(0,r.jsx)(n.code,{children:"Node"})," in a launch file?"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"real-world-applications",children:"Real-world Applications"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Full Robot System Startup:"})," Launching all necessary drivers, controllers, perception modules, and navigation stacks for a humanoid robot with a single command."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Multi-robot Deployments:"})," Using namespaces within launch files to instantiate multiple robots, each with its own isolated set of nodes and topics, in a shared environment."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Testing and Debugging:"})," Quickly bringing up specific subsets of a robot's software stack for isolated testing or debugging sessions."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Parameter Tuning:"})," Easily changing configuration parameters for different operating conditions (e.g., indoor vs. outdoor navigation parameters) without recompiling code."]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"edge-cases",children:"Edge Cases"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Launch File Dependencies:"})," If a launch file includes another launch file or relies on a node from another package, ensuring all dependencies are built and sourced is crucial."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Name Collisions:"})," Without proper namespaces or unique node names, launching multiple instances of the same node or package can lead to name collisions and unexpected behavior."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Resource Contention:"})," Launching many computationally intensive nodes simultaneously might overwhelm the system resources (CPU, RAM, GPU)."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Incorrect Path to Executable/Package:"})," Typos in ",(0,r.jsx)(n.code,{children:"package"})," or ",(0,r.jsx)(n.code,{children:"executable"})," names within ",(0,r.jsx)(n.code,{children:"Node"})," actions will result in launch failures."]}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"key-entities",children:(0,r.jsx)(n.strong,{children:"Key Entities"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Launch File:"})," A Python script responsible for defining and executing the startup configuration of a ROS 2 system, including nodes, processes, and their associated parameters and remappings."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsxs)(n.strong,{children:[(0,r.jsx)(n.code,{children:"LaunchDescription"}),":"]})," The central object in a ROS 2 Python launch file, acting as a container for all the actions to be performed during launch."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsxs)(n.strong,{children:[(0,r.jsx)(n.code,{children:"Node"})," Action:"]})," A launch action specifically designed to start a ROS 2 executable node, allowing for configuration of package, executable name, node name, parameters, and remappings."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsxs)(n.strong,{children:[(0,r.jsx)(n.code,{children:"ExecuteProcess"})," Action:"]})," A general-purpose launch action used to run any arbitrary command-line program or shell script, whether it's a ROS 2 executable or not."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsxs)(n.strong,{children:[(0,r.jsx)(n.code,{children:"IncludeLaunchDescription"})," Action:"]})," A launch action that enables modularity by allowing one launch file to incorporate the actions defined in another launch file."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsxs)(n.strong,{children:[(0,r.jsx)(n.code,{children:"DeclareLaunchArgument"}),":"]})," A launch action used to define command-line arguments that can be passed to a launch file, providing flexibility for configuration."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsxs)(n.strong,{children:[(0,r.jsx)(n.code,{children:"LaunchConfiguration"}),":"]})," A substitution object used within a launch file to retrieve the value of a declared launch argument or other launch-time variables."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Parameters:"})," Configuration values that are loaded into a ROS 2 node's parameter server at startup."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Remapping:"})," The process of changing the name of a ROS 2 entity (like a topic or service) for a specific node during launch, enabling flexible system integration."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Namespaces:"})," A hierarchical naming mechanism used to group ROS 2 nodes and topics, preventing naming conflicts and aiding in the organization of complex systems."]}),"\n"]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h3,{id:"references",children:(0,r.jsx)(n.strong,{children:"References"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Open Robotics. (2022). ",(0,r.jsx)(n.em,{children:"ROS 2 Documentation: Launch System"}),". (Placeholder citation)"]}),"\n",(0,r.jsxs)(n.li,{children:["ROS 2 Tutorials. (n.d.). ",(0,r.jsx)(n.em,{children:"Using Parameters in Launch Files"}),". (Placeholder citation)"]}),"\n",(0,r.jsxs)(n.li,{children:["Foote, T. (2019). Python Launch Files in ROS 2. ",(0,r.jsx)(n.em,{children:"ROSCon JP 2019"}),". (Placeholder citation)"]}),"\n",(0,r.jsxs)(n.li,{children:["Macenski, S., et al. (2020). The ROS 2 Navigation Stack: Design Decisions and Future Work. ",(0,r.jsx)(n.em,{children:"International Conference on Robotics and Automation (ICRA) Workshop"}),". (Placeholder citation)"]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}},8453:(e,n,i)=>{i.d(n,{R:()=>a,x:()=>o});var s=i(6540);const r={},l=s.createContext(r);function a(e){const n=s.useContext(l);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:a(e.components),s.createElement(l.Provider,{value:n},e.children)}}}]);